/**
 * Design System - 设计系统主入口
 * 导入所有设计系统模块
 */

/* 设计令牌 - 必须最先导入 */
@import './tokens.css';

/* 基础样式 */
@import './base.css';

/* 布局系统 */
@import './grid.css';

/* 组件样式 */
@import './components.css';

/* 动画效果 */
@import './animations.css';

/* ========== 全局样式增强 ========== */

/* 为 body 添加现代背景 */
body {
  background: var(--gradient-page-neutral);
  background-attachment: fixed;
  min-height: 100vh;
}

/* 应用程序根容器 */
#app {
  min-height: 100vh;
  position: relative;
}

/* 主要内容区域 */
.app-main {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: var(--backdrop-blur);
  min-height: 100vh;
  position: relative;
}

/* ========== Element Plus 组件样式覆盖 ========== */

/* 卡片组件增强 */
.el-card {
  background: var(--gradient-card) !important;
  backdrop-filter: var(--backdrop-blur);
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: var(--radius-xl) !important;
  box-shadow: var(--shadow-lg) !important;
  transition: all var(--duration-300) var(--ease-out) !important;
  position: relative;
  overflow: hidden;
}

.el-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  z-index: 1;
}

.el-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-2xl) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

.el-card__header {
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: var(--backdrop-blur-sm);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  padding: var(--spacing-4) var(--spacing-6) !important;
  position: relative;
  z-index: 2;
}

.el-card__body {
  padding: var(--spacing-6) !important;
  position: relative;
  z-index: 2;
}

/* 按钮组件增强 */
.el-button {
  border-radius: var(--radius-lg) !important;
  font-weight: var(--font-weight-medium) !important;
  transition: all var(--duration-200) var(--ease-out) !important;
  position: relative;
  overflow: hidden;
}

.el-button:not(.is-disabled):hover {
  transform: translateY(-1px);
}

.el-button:not(.is-disabled):active {
  transform: translateY(0);
}

.el-button--primary {
  background: var(--gradient-primary) !important;
  border-color: transparent !important;
  box-shadow: var(--shadow-md) !important;
}

.el-button--primary:hover {
  box-shadow: var(--shadow-primary) !important;
}

.el-button--success {
  background: var(--gradient-success) !important;
  border-color: transparent !important;
  box-shadow: var(--shadow-md) !important;
}

.el-button--success:hover {
  box-shadow: var(--shadow-success) !important;
}

.el-button--warning {
  background: linear-gradient(135deg, var(--color-warning) 0%, var(--color-warning-dark) 100%) !important;
  border-color: transparent !important;
  box-shadow: var(--shadow-md) !important;
}

.el-button--warning:hover {
  box-shadow: var(--shadow-warning) !important;
}

.el-button--danger {
  background: linear-gradient(135deg, var(--color-danger) 0%, var(--color-danger-dark) 100%) !important;
  border-color: transparent !important;
  box-shadow: var(--shadow-md) !important;
}

.el-button--danger:hover {
  box-shadow: var(--shadow-danger) !important;
}

/* 输入框组件增强 */
.el-input__wrapper {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: var(--backdrop-blur-sm);
  border: 1px solid var(--border-color) !important;
  border-radius: var(--radius-lg) !important;
  box-shadow: none !important;
  transition: all var(--duration-200) var(--ease-out) !important;
}

.el-input__wrapper:hover {
  border-color: var(--color-primary-light) !important;
}

.el-input__wrapper.is-focus {
  background: rgba(255, 255, 255, 0.95) !important;
  border-color: var(--color-primary) !important;
  box-shadow: var(--focus-ring) !important;
  transform: translateY(-1px);
}

.el-input__inner {
  color: var(--color-gray-900) !important;
}

/* 选择框组件增强 */
.el-select .el-input__wrapper {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: var(--backdrop-blur-sm);
}

.el-select-dropdown {
  background: var(--gradient-card) !important;
  backdrop-filter: var(--backdrop-blur);
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: var(--radius-xl) !important;
  box-shadow: var(--shadow-xl) !important;
}

.el-select-dropdown__item {
  transition: all var(--duration-150) var(--ease-out) !important;
}

.el-select-dropdown__item:hover {
  background: rgba(94, 114, 228, 0.1) !important;
  color: var(--color-primary-dark) !important;
}

/* 表格组件增强 */
.el-table {
  background: transparent !important;
  color: var(--color-gray-800) !important;
}

.el-table__header-wrapper {
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: var(--backdrop-blur-sm);
}

.el-table__header {
  background: transparent !important;
}

.el-table th.el-table__cell {
  background: transparent !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: var(--color-gray-700) !important;
  font-weight: var(--font-weight-semibold) !important;
}

.el-table td.el-table__cell {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.el-table__row {
  background: rgba(255, 255, 255, 0.05) !important;
  transition: all var(--duration-200) var(--ease-out) !important;
}

.el-table__row:hover {
  background: rgba(255, 255, 255, 0.1) !important;
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

/* 分页组件增强 */
.el-pagination {
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
  gap: var(--spacing-2) !important;
}

.el-pagination .el-pager li,
.el-pagination .btn-prev,
.el-pagination .btn-next {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: var(--backdrop-blur-sm);
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: var(--radius-lg) !important;
  color: var(--color-gray-700) !important;
  font-weight: var(--font-weight-medium) !important;
  transition: all var(--duration-200) var(--ease-out) !important;
}

.el-pagination .el-pager li:hover,
.el-pagination .btn-prev:hover,
.el-pagination .btn-next:hover {
  background: rgba(255, 255, 255, 0.95) !important;
  border-color: var(--color-primary) !important;
  color: var(--color-primary) !important;
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.el-pagination .el-pager li.is-active {
  background: var(--gradient-primary) !important;
  border-color: transparent !important;
  color: white !important;
  box-shadow: var(--shadow-primary);
}

/* 标签组件增强 */
.el-tag {
  border-radius: var(--radius-full) !important;
  font-weight: var(--font-weight-medium) !important;
  padding: var(--spacing-1) var(--spacing-3) !important;
  transition: all var(--duration-200) var(--ease-out) !important;
  position: relative;
  overflow: hidden;
}

.el-tag::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transition: left var(--duration-500) var(--ease-out);
}

.el-tag:hover::before {
  left: 100%;
}

.el-tag--primary {
  background: rgba(94, 114, 228, 0.1) !important;
  border-color: rgba(94, 114, 228, 0.2) !important;
  color: var(--color-primary-dark) !important;
}

.el-tag--success {
  background: rgba(45, 206, 137, 0.1) !important;
  border-color: rgba(45, 206, 137, 0.2) !important;
  color: var(--color-success-dark) !important;
}

.el-tag--warning {
  background: rgba(251, 99, 64, 0.1) !important;
  border-color: rgba(251, 99, 64, 0.2) !important;
  color: var(--color-warning-dark) !important;
}

.el-tag--danger {
  background: rgba(245, 54, 92, 0.1) !important;
  border-color: rgba(245, 54, 92, 0.2) !important;
  color: var(--color-danger-dark) !important;
}

.el-tag--info {
  background: rgba(17, 205, 239, 0.1) !important;
  border-color: rgba(17, 205, 239, 0.2) !important;
  color: var(--color-info-dark) !important;
}

/* 进度条组件增强 */
.el-progress__text {
  font-weight: var(--font-weight-medium) !important;
  color: var(--color-gray-700) !important;
}

.el-progress-bar__outer {
  background: rgba(148, 163, 184, 0.2) !important;
  border-radius: var(--radius-full) !important;
  overflow: hidden;
}

.el-progress-bar__inner {
  background: var(--gradient-primary) !important;
  border-radius: var(--radius-full) !important;
  position: relative;
  overflow: hidden;
}

.el-progress-bar__inner::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: shimmer 2s infinite;
}

/* 对话框组件增强 */
.el-dialog {
  background: var(--gradient-card) !important;
  backdrop-filter: var(--backdrop-blur);
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: var(--radius-2xl) !important;
  box-shadow: var(--shadow-2xl) !important;
}

.el-dialog__header {
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: var(--backdrop-blur-sm);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: var(--radius-2xl) var(--radius-2xl) 0 0 !important;
  padding: var(--spacing-6) !important;
}

.el-dialog__title {
  color: var(--color-gray-800) !important;
  font-weight: var(--font-weight-semibold) !important;
}

.el-dialog__body {
  padding: var(--spacing-6) !important;
}

.el-dialog__footer {
  padding: var(--spacing-6) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
}

.el-overlay {
  background: rgba(15, 23, 42, 0.8) !important;
  backdrop-filter: var(--backdrop-blur) !important;
}

/* 消息组件增强 */
.el-message {
  background: var(--gradient-card) !important;
  backdrop-filter: var(--backdrop-blur);
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  border-radius: var(--radius-xl) !important;
  box-shadow: var(--shadow-xl) !important;
  color: var(--color-gray-800) !important;
}

.el-message--success {
  border-left: 4px solid var(--color-success) !important;
}

.el-message--warning {
  border-left: 4px solid var(--color-warning) !important;
}

.el-message--error {
  border-left: 4px solid var(--color-danger) !important;
}

.el-message--info {
  border-left: 4px solid var(--color-info) !important;
}

/* ========== 响应式隐藏/显示 ========== */
@media (max-width: 576px) {
  .hidden-xs { display: none !important; }
}

@media (min-width: 576px) and (max-width: 767px) {
  .hidden-sm { display: none !important; }
}

@media (min-width: 768px) and (max-width: 991px) {
  .hidden-md { display: none !important; }
}

@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-lg { display: none !important; }
}

@media (min-width: 1200px) {
  .hidden-xl { display: none !important; }
}

@media (min-width: 576px) {
  .visible-sm-up { display: block !important; }
}

@media (min-width: 768px) {
  .visible-md-up { display: block !important; }
}

@media (min-width: 992px) {
  .visible-lg-up { display: block !important; }
}

@media (min-width: 1200px) {
  .visible-xl-up { display: block !important; }
}

/* ========== 打印样式 ========== */
@media print {
  .no-print { display: none !important; }
  
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  .el-card {
    border: 1px solid #ddd !important;
    box-shadow: none !important;
  }
}

/* ========== 高对比度模式 ========== */
@media (prefers-contrast: high) {
  :root {
    --color-primary: #0000ee;
    --color-success: #008000;
    --color-warning: #ff8c00;
    --color-danger: #ff0000;
    --border-color: #000000;
  }
  
  .el-card {
    border: 2px solid black !important;
  }
  
  .el-button {
    border: 2px solid currentColor !important;
  }
}